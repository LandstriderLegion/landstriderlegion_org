<!DOCTYPE html>
<html lang="en-us">
	<head>
		<title>Landstrider Legion</title>
		<meta name="viewport" content="width=device-width,initial-scale=1.0" />
		<meta charset="UTF-8" />
		<link rel="stylesheet" href="resources/style.css" />
		<link rel="icon" href="resources/icon.png" sizes="192x192" />
		<meta
			name="description"
			content="Established in 3307, the Landstrider Legion is a Generalist squadron committed to educating commanders in the secrets of the universe, honing them into Elite-caliber operators and masters of their crafts."
		/>
	</head>
	<body>
		<nav>
			<a href="/">Landstrider Legion</a>
			<div id="nav-right">
				<a href="/wiki">Wiki</a>|
				<a href="/news">News</a>|
				<a href="/events">Events</a>|
				<a href="/squadron-management">Squadron Dashboard</a>
			</div>
		</nav>
		<header>
			<div id="video-wrapper">
				<video autoplay muted loop>
					<source src="./resources/media/background.mp4">
				</video>
			</div>
			<div id="overlay">
				<h1>Landstrider Legion</h1>
				<h2><span id="heading-subtext">For the glory of The Legion. Welcome, commander.</span><span id="cursor">_</span></h2>
			</div>
		</header>
		<main>
			<div id="scroll-tracker"></div>
			<div id="logo-wrapper">
				<img alt="logo" id="header-logo" src="./resources/icon.png">
			</div>
			<div class="content-wrapper">
				<h2>About Us</h2>
				<p>
					Established in 3307, the Landstrider Legion is a Generalist squadron committed to educating commanders in the secrets of the universe, honing them into Elite-caliber operators and masters of their crafts.
				</p>
				<p>
					Whether you're a brand new commander looking to find your way in the galaxy, a veteran star-hopper flying out of the mailslot backwards, or just looking for an active community to play with, the Legion invites you to join our community and our journey for interstellar glory.
				</p>
			</div>
			<div class="content-wrapper content-grid">
				<img src="./resources/icon.png" alt="">
				<div class="grid-container">
					<h2>Founded to be Different</h2>
					<p>Tired of their dysfunctional, inactive squadron, eight Elite: Dangerous veterans teamed up to start a new squadron with three goals: professionalism, casualness, activeness.
						<br>After several years, the squadron still holds those values close.
					</p>
				</div>
			</div>
		</main>
		<script>
			var overlay = document.getElementById("overlay");
			var logo = document.getElementById("header-logo");
			var sub = document.getElementById("heading-subtext");
			var cursor = document.getElementById("cursor");

			// Set all styles for animations
			sub.innerText = "";

			// Fade in
			setTimeout(() => {
				overlay.style.opacity = "1";
				logo.style.opacity = "1";
			}, 1000)

			// Typing text
			var typed = false;
			var text = ""
			var strings = [
					"For the glory of the Legion.",
					" Welcome,",
					" commander."
				]

			var cursorAnim = setInterval(() => {
				if (!typed) {
					cursor.style.opacity = "100%";
					setTimeout(() => {
						cursor.style.opacity = "0%";
					}, 600)
				} else {
					clearInterval(cursorAnim);
					cursor.style.opacity = "0";
				}
			}, 1200)

			function typeText(string, int) {
				var i = 0;
				var interval = setInterval(() => {
					if (i < string.length) {
						text += string[i];
						sub.innerText = text;
						i++
					} else clearInterval(interval)
				},int)
			}

			setTimeout(async () => {
				typeText(strings[0], 40);
				setTimeout(() => {
					typeText(strings[1], 50);
				},2300)
				setTimeout(() => {
					typeText(strings[2], 65)
				},3500)
				setTimeout(() => {
					typed = true;
				}, 5000)
			}, 4000)

			// Scrolling animation
			var header = document.getElementsByTagName("header")[0];
			var tracker = document.getElementById("scroll-tracker");
			var gradient = document.getElementsByTagName("main")[0];
			var height = header.offsetHeight;
			gradient.style.background = "black";

			window.addEventListener("scroll", () => {
				var scrollTop = document.documentElement.scrollTop;
				var distanceTop = window.pageYOffset + tracker.getBoundingClientRect().top;
				var opacity = 1.0;
				var gradOpacity = 0
				
				if (scrollTop > distanceTop) {
					opacity = 1 - ((scrollTop - distanceTop) / height);
					gradOpacity = opacity >= 0 ? 0 : (opacity <= -1 ? 1 : opacity * -1);
					gradient.style.background = `linear-gradient(97deg, rgba(21,73,130,${0.14 * gradOpacity}) 2%, rgba(0,114,80,${0.1 * gradOpacity}) 23%, rgba(171,136,47,${0.08 * gradOpacity}) 53%, rgba(239,71,35,${0.06 * gradOpacity}) 91%)`;
				}
				console.log(opacity, gradOpacity)
				if (opacity >= 0) header.style.opacity = opacity;
				
				if (opacity <= 0) {
					header.style.display = "none";
				} else {
					header.style.display = "block";
				}
			})
		</script>
	</body>
	<!-- <body>
		<noscript>
			<h1>This site requires JavaScript!</h1>
			<h2>Please make sure you're using a modern browser with JavaScript enabled.</h2>
		</noscript>
		<header class="header">
			<h1>Landstrider Legion</h1>
		</header>
		<div class="background">
			<section class="maincontent">
				<div class="content">
					<h1>About Us</h1>
					
				</div>
				<div class="content">
					<h1>Bulletin Board</h1>
					<p style="text-align: center">
						<strong>Visit the <a href="news/index.html"> News &amp; Updates page</a> for more information</strong>
					</p>
					<ul>
						<li><b>Introducing our first major expedition: <a href="./news/lljttd.html">"Landstrider Legion Jaunt to The Dot"</a></b></li>
					</ul>
				</div>
				<div class="content">
					<h2>Game Resources</h2>
					<div style="justify-content: center; display: flex; margin-top: 20px">
						<a style="margin-right: 40px" target="_parent" href="https://edsy.org/" class="button">
							<h3>EDSY</h3>
						</a>
						<a style="margin-right: 40px" target="_parent" href="https://coriolis.io/" class="button">
							<h3>Coriolis</h3>
						</a>
						<a style="margin-right: 40px" target="_parent" href="https://www.edsm.net/" class="button">
							<h3>EDSM</h3>
						</a>
						<a style="margin-right: 40px" target="_parent" href="https://eddb.io/" class="button">
							<h3>EDDB</h3>
						</a>
						<a target="_parent" href="https://inara.cz/" class="button">
							<h3>Inara</h3>
						</a>
					</div>
				</div>
			</section>
		</div>
		<script src="./resources/navbar.js"></script>
	</body> -->
</html>
